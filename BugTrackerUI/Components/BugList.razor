<h3>All Bugs</h3>

<table>
    @foreach(var bug in Bugs)
    {
       <tr>
           <td>@bug.Id</td>
           <td>@bug.Title</td>
           <td>@bug.Description</td>
           <td>@bug.Priority</td>
       </tr>
    }
</table>


@code {

    [Inject]
    public IBugService BugService{ get; set; }

    public List<Bug> Bugs { get; set; }

    protected override void OnInitialized()
    {
        Bugs = BugService.GetBugs().OrderBy(x => x.Priority).ToList();
    }

    public Bug AddBug { get; set; } = new Bug();

    protected void HandleValidSubmit()
    {
        BugService.AddBug(AddBug);
        NavService.NavigateTo("");
    }

    [Inject]
    public NavigationManager NavService { get; set; }

}
